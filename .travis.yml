dist: trusty
language: c
compiler: gcc
sudo: required
services: mysql
install:
  - sudo apt-get -qq update
  - sudo apt-get install -y build-essential
  - sudo apt-get install -y memcached libevent-dev
  - sudo apt-get install -y make autoconf automake libtool gdb valgrind valgrind-dbg cmake pkg-config sysstat inotify-tools
  - sudo apt-get install -y libc6-dev libc++-dev libbsd-dev libncurses5-dev libmpfr4 libmpfr-dev libsubunit-dev libsubunit0
  - sudo systemctl start memcached.service
before_script:
  - mysql -e "CREATE DATABASE Sandbox;"
  - mysql -e "CREATE USER 'mytool'@'localhost' IDENTIFIED BY 'aComplex1';"
  - mysql -e "GRANT ALL PRIVILEGES ON *.* TO 'mytool'@'localhost' WITH GRANT OPTION;"
  - dev/scripts/database/schema.reset.sh
script: make all
